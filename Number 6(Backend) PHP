
<?php
if ($_SERVER["REQUEST_METHOD"] === "POST") {
    // Get the raw input
    $feedback = $_POST['message'] ?? '';

    // Sanitize the input
    $feedback = trim($feedback);
    $feedback = stripslashes($feedback);
    $feedback = htmlspecialchars($feedback, ENT_QUOTES, 'UTF-8');

    if (empty($feedback)) {
        echo "Feedback cannot be empty.";
        exit;
    }

    // Example: save to database (PDO prepared statement)
    try {
        $pdo = new PDO("mysql:host=localhost;dbname=feedback_db", "root", "");
        $stmt = $pdo->prepare("INSERT INTO feedback (message, created_at) VALUES (:message, NOW())");
        $stmt->bindParam(':message', $feedback);
        $stmt->execute();
        echo "Feedback submitted successfully!";
    } catch (PDOException $e) {
        echo "Database error: " . $e->getMessage();
    }
}
?>
